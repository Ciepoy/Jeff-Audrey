<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="signup.css">
    <script src="login.js"></script>
    
</head>
<body>
    <header>
        <div><a href="http://127.0.0.1:5500/home.html"><button>Back</button></a></div>
    </header>
    <div class="container">
        <form>
            <label for="signup">Register</label>
            <input type="text" id="name" name="name" placeholder="Username" required="">
            <input type="email" id="email" name="email" placeholder="Email" required="">
            <input type="password" id="password" name="password" placeholder="Password" required="">
            <button onclick="register()">Register Account</button>
        </form>
    </div>
</body>
<script>
    function register(){
     let name, email, password;
     name = document.getElementById("name").value;
     email = document.getElementById("email").value;
     password = document.getElementById("password").value;

     let users = new Array();
     users = JSON.parse(localStorage.getItem("users"))?JSON.parse(localStorage.getItem("users")):[]
     if(users.some((v)=>{
         return v.email == email
     })){
         alert("Email already used!");
         window.location.href = "http://127.0.0.1:5500/signup.html#";
     }
     else{
         users.push({
             "name":name,
             "email": email,
             "password": password
         })
         localStorage.setItem("users", JSON.stringify(users));
         alert("Register Successfully");
         window.location.href = "http://127.0.0.1:5500/successful.html";
     }

 }
 </script>
</html>